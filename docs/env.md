# Environment variables

| Name                                                                 | Description                                                                                                                          | Example                                          | Default                                                                                                                                                                                                                |
|----------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AWS_ACCESS_KEY_ID                                                    | AWS access key associated with an IAM account. You must have `s3:PutObject` in your IAM permissions.                                 | -                                                | If you run `aws-rds-dump` on an AWS resource such as EC2 or ECS and it has the roles to perform a `PutObject` to your bucket S3, you do not need to set `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY` and `AWS_REGION`. |
| AWS_SECRET_ACCESS_KEY                                                | Secret key associated with the `AWS_ACCESS_KEY_ID`.                                                                                  | -                                                | -                                                                                                                                                                                                                      |
| AWS_REGION                                                           | AWS region to send requests to.                                                                                                      | -                                                | -                                                                                                                                                                                                                      | 
| AWS_S3_BUCKET_NAME                                                   | Name of the S3 bucket to which dumps are pushed.                                                                                     | -                                                | -                                                                                                                                                                                                                      |
| DATABASE_DRIVER                                                      | Database driver to create the connection. Must be `mysql` or `postgres`.                                                             | -                                                | -                                                                                                                                                                                                                      |
| MYSQL_HOST <br>(Required if `DATABASE_DRIVER` is `mysql`)            | `mysql` database host name.                                                                                                          | -                                                | -                                                                                                                                                                                                                      |
| MYSQL_PORT <br>(Required if `DATABASE_DRIVER` is `mysql`)            | `mysql` database port.                                                                                                               | -                                                | -                                                                                                                                                                                                                      |
| MYSQL_USER <br>(Required if `DATABASE_DRIVER` is `mysql`)            | `mysql` username used to establish the connection.                                                                                   | -                                                | -                                                                                                                                                                                                                      |
| MYSQL_PASSWORD <br>(Required if `DATABASE_DRIVER` is `mysql`)        | `mysql` password used to establish the connection.                                                                                   | -                                                | -                                                                                                                                                                                                                      |
| MYSQL_DATABASE <br>(Required if `DATABASE_DRIVER` is `mysql`)        | `mysql` database name to dump.                                                                                                       | -                                                | -                                                                                                                                                                                                                      |
| MYSQLDUMP_EXECUTABLE <br>(Required if `DATABASE_DRIVER` is `mysql`)  | Absolute path to `mysqldump` database backup program executable.                                                                     | -                                                | -                                                                                                                                                                                                                      |
| MYSQLDUMP_OPTIONS <br>(Optional)                                     | [Additional options to use to execute `mysqldump`.](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html#mysqldump-option-summary) | --add-drop-database --add-drop-table --dump-date | -                                                                                                                                                                                                                      |
| POSTGRES_HOST <br>(Required if `DATABASE_DRIVER` is `postgres`)      | `postgres` database host name.                                                                                                       | -                                                | -                                                                                                                                                                                                                      |
| POSTGRES_PORT <br>(Required if `DATABASE_DRIVER` is `postgres`)      | `postgres` database port.                                                                                                            | -                                                | -                                                                                                                                                                                                                      |
| POSTGRES_USER <br>(Required if `DATABASE_DRIVER` is `postgres`)      | `postgres` username used to establish the connection.                                                                                | -                                                | -                                                                                                                                                                                                                      |
| POSTGRES_PASSWORD <br>(Required if `DATABASE_DRIVER` is `postgres`)  | `postgres` password used to establish the connection.                                                                                | -                                                | -                                                                                                                                                                                                                      |
| POSTGRES_DATABASE <br>(Required if `DATABASE_DRIVER` is `postgres`)  | `postgres` database name to dump.                                                                                                    | -                                                | -                                                                                                                                                                                                                      |
| PG_DUMP_EXECUTABLE <br>(Required if `DATABASE_DRIVER` is `postgres`) | Absolute path to `pg_dump` database backup program executable.                                                                       | -                                                | -                                                                                                                                                                                                                      |
| PG_DUMP_OPTIONS <br>(Optional)                                       | [Additional options to use to execute `pg_dump`.](https://www.postgresql.org/docs/current/app-pgdump.html)                           | --schema-only --clean --if-exists                | -                                                                                                                                                                                                                      |
| DUMP_FILENAME_PATTERN                                                | [click here to see description](#DUMP_FILENAME_PATTERN)                                                                              | dump-{yyyy}{MM}{dd}-{hh}{mm}{ss}.sql             | {yyyy}{MM}{dd}-{hh}{mm}{ss}                                                                                                                                                                                            |

## DUMP_FILENAME_PATTERN

The environment variable `DUMP_FILENAME_PATTERN` is a template that allows you to dynamically construct the name
of your backup files by incorporating date and time information at the moment when `aws-rds-dump` is executed.

- `{yyyy}`: Four-digit year (e.g., 2023).
- `{yy}`: Two-digit year (e.g., 23).
- `{MM}`: Two-digit month (e.g., 09 for September).
- `{M}`: One-digit month (e.g., 9 for September).
- `{dd}`: Two-digit day of the month (e.g., 08).
- `{d}`: One-digit day of the month (e.g., 8).
- `{hh}`: Two-digit hour in 24-hour format (e.g., 14 for 2 PM).
- `{mm}`: Two-digit minute (e.g., 02).
- `{m}`: One-digit minute (e.g., 2).
- `{ss}`: Two-digit second (e.g., 00).
- `{s}`: One-digit second (e.g., 0).

